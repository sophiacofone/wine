(function () {
  'use strict';

  const dropdown_menu = (selection, props) => {
    const {
      options,
      onOptionClicked
    } = props;
    
    let select = selection.selectAll('select').data([null]);
    select = select.enter().append('select')
      .merge(select)
    		.on('change', function() {
      		onOptionClicked(this.value);
    	});
    
    const option = select.selectAll('option').data(options);
    option.enter().append('option')
    	.merge(option)
    		.attr('value',d => d)
    		.text(d => d);
  };

  const bar = (selection, props) => {
   const {
     margin,
     height,
     width,
     data,
     xValue,
     yValue,
     title,
     xAxisLabel,
     yAxisLabel,
     wine_type
   } = props;
    
    //filtering by wine type
    let filtered_data;
    if (wine_type === 'White Wine') {
      filtered_data = data.filter(d => d.wine_type === 'white');
    } else {
        filtered_data = data.filter(d => d.wine_type === 'red');
      }
    
    //setting size of chart element
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    
    //sort bars via quality ranking
    filtered_data.sort(function(b, a) {
      return b.quality - a.quality;
    });
    
    //defining scales
    const yScale = d3.scaleLinear()
    	.domain([0,d3.max(filtered_data, yValue)])
    	.range([innerHeight,0])
    	.nice();
    const xScale = d3.scaleBand()
    	.domain(filtered_data.map(xValue))
    	.range([0,innerWidth])
    	.padding(0.05);
    
    const g = selection.selectAll('.container').data([null]);
    const gEnter = g
      .enter().append('g')
        .attr('class', 'container');
    	gEnter
    		.merge(g)
      		.attr('transform', `translate(${margin.left},${margin.top})`);
    
    //const yAxisTickFormat = number =>
    	//d3.format('.3s')(number)
    			//.replace('G', 'B');
    
    //domain lines
    const xAxis = d3.axisBottom(xScale);
    
    const yAxis = d3.axisLeft(yScale);
    	// .tickFormat(yAxisTickFormat)
    
    //creating y axis lables
    const yAxisG = g.select('.y-axis');
    const yAxisGEnter = gEnter
  		.append('g')
    		.attr('class', 'y-axis');
    yAxisG
    	.merge(yAxisGEnter)
    	.transition().duration(1000)
  			.call(yAxis);
          
    const yAxisLabelText = yAxisGEnter
  		.append('text')
        .attr('class', 'axis-label')
        .attr('y', -50)
        .attr('fill', 'black')
        .attr('transform', `rotate(-90)`)
        .attr('text-anchor', 'middle')
    	.merge(yAxisG.select('.axis-label'))
    	  .attr('x', -innerHeight / 2)
        .text(yAxisLabel);
    
    //creating x axis lables
    const xAxisG = g.select('.x-axis');
    const xAxisGEnter = gEnter
  		.append('g')
    		.attr('class', 'x-axis');
    xAxisG
    	.merge(xAxisGEnter)
    		.attr('transform', `translate(0,${innerHeight})`)
  			.call(xAxis)
    		.selectAll('.domain').remove();
          
    const xAxisLabelText = xAxisGEnter
  		.append('text')
        .attr('class', 'axis-label')
        .attr('y', 55)
        .attr('fill', 'black')
        .attr('text-anchor', 'middle')
    	.merge(xAxisG.select('.axis-label'))
    	  .attr('x', innerWidth / 2)
        .text(xAxisLabel);
    
    //creating vis title
    gEnter.append('text')
        .attr('class', 'title')
        .attr('y', -30)
    		.attr('x', 80)
        .text(title);
    
  const rect = g.merge(gEnter)
    	.selectAll('rect').data(filtered_data);
    rect.enter().append('rect')
    	.merge(rect)
    		.transition().duration(1000)
  			.attr('x', d =>xScale(xValue(d)))
    		.attr('y', d =>yScale(yValue(d)))
    		.attr('width', xScale.bandwidth())
    		.attr('height', d=> innerHeight - yScale(yValue(d)));
  };

  const svg = d3.select('svg');

  const width = +svg.attr('width');
  const height = +svg.attr('height');
        

  let data;

  let yColumn;
  let wine_type;

  const onYColumnClicked = column => {
    yColumn = column;
    render();
  };

  const onDatasetClicked = column => {
    wine_type = column;
    render();
  };

  const render = () => {

    d3.select('#y-menu')
  	.call(dropdown_menu, {
    	options: ['fixed_acidity','volatile_acidity','citric_acid','residual_sugar','chlorides','free_sulfur_dioxide','pH','sulphates','alcohol','quality'],
      onOptionClicked: onYColumnClicked 
  });    
    
    d3.select('#data-menu')
      .call(dropdown_menu, {
        options: ['White Wine','Red Wine'],
        onOptionClicked: onDatasetClicked
      });

  	const titley = String(yColumn);
    const title_text = "White Wine Quality ranked by " + titley;
  	svg.call(bar, {
  		xAxisLabel: 'Quality',
      title: title_text,
  		yValue: d => d[yColumn],
      xValue: d => d.quality,
  		yAxisLabel: yColumn,
      margin: { top: 80, right: 100, bottom: 150, left: 100 },
      width,
      height,
      wine_type,
      data
    });

  };
  d3.csv('data_wine.csv').then(loadedData => {
    data = loadedData;
    data.forEach(d => {
      d.fixed_acidity = +d.fixed_acidity;
        d.volatile_acidity = +d.volatile_acidity;
        d.citric_acid = +d.citric_acid;
        d.residual_sugar = +d.residual_sugar;
        d.chlorides = +d.chlorides;
        d.free_sulfur_dioxide = +d.free_sulfur_dioxide;
        d.density = +d.density;
        d.pH = +d.pH;
        d.sulphates = +d.sulphates;
        d.alcohol = +d.alcohol;
        d.quality = +d.quality;
      	d.wine_type = d.wine_type;
    });
    yColumn = data.columns[0];
    wine_type = 'White Wine';
    render();

  });

}());

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImRyb3Bkb3duX21lbnUuanMiLCJiYXIuanMiLCJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZHJvcGRvd25fbWVudSA9IChzZWxlY3Rpb24sIHByb3BzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBvcHRpb25zLFxuICAgIG9uT3B0aW9uQ2xpY2tlZFxuICB9ID0gcHJvcHM7XG4gIFxuICBsZXQgc2VsZWN0ID0gc2VsZWN0aW9uLnNlbGVjdEFsbCgnc2VsZWN0JykuZGF0YShbbnVsbF0pO1xuICBzZWxlY3QgPSBzZWxlY3QuZW50ZXIoKS5hcHBlbmQoJ3NlbGVjdCcpXG4gICAgLm1lcmdlKHNlbGVjdClcbiAgXHRcdC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgXHRcdG9uT3B0aW9uQ2xpY2tlZCh0aGlzLnZhbHVlKTtcbiAgXHR9KTtcbiAgXG4gIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5zZWxlY3RBbGwoJ29wdGlvbicpLmRhdGEob3B0aW9ucyk7XG4gIG9wdGlvbi5lbnRlcigpLmFwcGVuZCgnb3B0aW9uJylcbiAgXHQubWVyZ2Uob3B0aW9uKVxuICBcdFx0LmF0dHIoJ3ZhbHVlJyxkID0+IGQpXG4gIFx0XHQudGV4dChkID0+IGQpO1xufTsiLCJleHBvcnQgY29uc3QgYmFyID0gKHNlbGVjdGlvbiwgcHJvcHMpID0+IHtcbiBjb25zdCB7XG4gICBtYXJnaW4sXG4gICBoZWlnaHQsXG4gICB3aWR0aCxcbiAgIGRhdGEsXG4gICB4VmFsdWUsXG4gICB5VmFsdWUsXG4gICB0aXRsZSxcbiAgIHhBeGlzTGFiZWwsXG4gICB5QXhpc0xhYmVsLFxuICAgd2luZV90eXBlXG4gfSA9IHByb3BzO1xuICBcbiAgLy9maWx0ZXJpbmcgYnkgd2luZSB0eXBlXG4gIGxldCBmaWx0ZXJlZF9kYXRhO1xuICBpZiAod2luZV90eXBlID09PSAnV2hpdGUgV2luZScpIHtcbiAgICBmaWx0ZXJlZF9kYXRhID0gZGF0YS5maWx0ZXIoZCA9PiBkLndpbmVfdHlwZSA9PT0gJ3doaXRlJylcbiAgfSBlbHNlIHtcbiAgICAgIGZpbHRlcmVkX2RhdGEgPSBkYXRhLmZpbHRlcihkID0+IGQud2luZV90eXBlID09PSAncmVkJylcbiAgICB9XG4gIFxuICAvL3NldHRpbmcgc2l6ZSBvZiBjaGFydCBlbGVtZW50XG4gIGNvbnN0IGlubmVyV2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICBjb25zdCBpbm5lckhlaWdodCA9IGhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuICBcbiAgLy9zb3J0IGJhcnMgdmlhIHF1YWxpdHkgcmFua2luZ1xuICBmaWx0ZXJlZF9kYXRhLnNvcnQoZnVuY3Rpb24oYiwgYSkge1xuICAgIHJldHVybiBiLnF1YWxpdHkgLSBhLnF1YWxpdHk7XG4gIH0pO1xuICBcbiAgLy9kZWZpbmluZyBzY2FsZXNcbiAgY29uc3QgeVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICBcdC5kb21haW4oWzAsZDMubWF4KGZpbHRlcmVkX2RhdGEsIHlWYWx1ZSldKVxuICBcdC5yYW5nZShbaW5uZXJIZWlnaHQsMF0pXG4gIFx0Lm5pY2UoKTtcbiAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVCYW5kKClcbiAgXHQuZG9tYWluKGZpbHRlcmVkX2RhdGEubWFwKHhWYWx1ZSkpXG4gIFx0LnJhbmdlKFswLGlubmVyV2lkdGhdKVxuICBcdC5wYWRkaW5nKDAuMDUpO1xuICBcbiAgY29uc3QgZyA9IHNlbGVjdGlvbi5zZWxlY3RBbGwoJy5jb250YWluZXInKS5kYXRhKFtudWxsXSk7XG4gIGNvbnN0IGdFbnRlciA9IGdcbiAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbnRhaW5lcicpO1xuICBcdGdFbnRlclxuICBcdFx0Lm1lcmdlKGcpXG4gICAgXHRcdC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCR7bWFyZ2luLnRvcH0pYCk7XG4gIFxuICAvL2NvbnN0IHlBeGlzVGlja0Zvcm1hdCA9IG51bWJlciA9PlxuICBcdC8vZDMuZm9ybWF0KCcuM3MnKShudW1iZXIpXG4gIFx0XHRcdC8vLnJlcGxhY2UoJ0cnLCAnQicpO1xuICBcbiAgLy9kb21haW4gbGluZXNcbiAgY29uc3QgeEF4aXMgPSBkMy5heGlzQm90dG9tKHhTY2FsZSlcbiAgXG4gIGNvbnN0IHlBeGlzID0gZDMuYXhpc0xlZnQoeVNjYWxlKVxuICBcdC8vIC50aWNrRm9ybWF0KHlBeGlzVGlja0Zvcm1hdClcbiAgXG4gIC8vY3JlYXRpbmcgeSBheGlzIGxhYmxlc1xuICBjb25zdCB5QXhpc0cgPSBnLnNlbGVjdCgnLnktYXhpcycpO1xuICBjb25zdCB5QXhpc0dFbnRlciA9IGdFbnRlclxuXHRcdC5hcHBlbmQoJ2cnKVxuICBcdFx0LmF0dHIoJ2NsYXNzJywgJ3ktYXhpcycpO1xuICB5QXhpc0dcbiAgXHQubWVyZ2UoeUF4aXNHRW50ZXIpXG4gIFx0LnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKVxuXHRcdFx0LmNhbGwoeUF4aXMpO1xuICAgICAgICBcbiAgY29uc3QgeUF4aXNMYWJlbFRleHQgPSB5QXhpc0dFbnRlclxuXHRcdC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXMtbGFiZWwnKVxuICAgICAgLmF0dHIoJ3knLCAtNTApXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHJvdGF0ZSgtOTApYClcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICBcdC5tZXJnZSh5QXhpc0cuc2VsZWN0KCcuYXhpcy1sYWJlbCcpKVxuICBcdCAgLmF0dHIoJ3gnLCAtaW5uZXJIZWlnaHQgLyAyKVxuICAgICAgLnRleHQoeUF4aXNMYWJlbCk7XG4gIFxuICAvL2NyZWF0aW5nIHggYXhpcyBsYWJsZXNcbiAgY29uc3QgeEF4aXNHID0gZy5zZWxlY3QoJy54LWF4aXMnKTtcbiAgY29uc3QgeEF4aXNHRW50ZXIgPSBnRW50ZXJcblx0XHQuYXBwZW5kKCdnJylcbiAgXHRcdC5hdHRyKCdjbGFzcycsICd4LWF4aXMnKTtcbiAgeEF4aXNHXG4gIFx0Lm1lcmdlKHhBeGlzR0VudGVyKVxuICBcdFx0LmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2lubmVySGVpZ2h0fSlgKVxuXHRcdFx0LmNhbGwoeEF4aXMpXG4gIFx0XHQuc2VsZWN0QWxsKCcuZG9tYWluJykucmVtb3ZlKCk7XG4gICAgICAgIFxuICBjb25zdCB4QXhpc0xhYmVsVGV4dCA9IHhBeGlzR0VudGVyXG5cdFx0LmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYXhpcy1sYWJlbCcpXG4gICAgICAuYXR0cigneScsIDU1KVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gIFx0Lm1lcmdlKHhBeGlzRy5zZWxlY3QoJy5heGlzLWxhYmVsJykpXG4gIFx0ICAuYXR0cigneCcsIGlubmVyV2lkdGggLyAyKVxuICAgICAgLnRleHQoeEF4aXNMYWJlbCk7XG4gIFxuICAvL2NyZWF0aW5nIHZpcyB0aXRsZVxuICBnRW50ZXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZScpXG4gICAgICAuYXR0cigneScsIC0zMClcbiAgXHRcdC5hdHRyKCd4JywgODApXG4gICAgICAudGV4dCh0aXRsZSk7XG4gIFxuY29uc3QgcmVjdCA9IGcubWVyZ2UoZ0VudGVyKVxuICBcdC5zZWxlY3RBbGwoJ3JlY3QnKS5kYXRhKGZpbHRlcmVkX2RhdGEpXG4gIHJlY3QuZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxuICBcdC5tZXJnZShyZWN0KVxuICBcdFx0LnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKVxuXHRcdFx0LmF0dHIoJ3gnLCBkID0+eFNjYWxlKHhWYWx1ZShkKSkpXG4gIFx0XHQuYXR0cigneScsIGQgPT55U2NhbGUoeVZhbHVlKGQpKSlcbiAgXHRcdC5hdHRyKCd3aWR0aCcsIHhTY2FsZS5iYW5kd2lkdGgoKSlcbiAgXHRcdC5hdHRyKCdoZWlnaHQnLCBkPT4gaW5uZXJIZWlnaHQgLSB5U2NhbGUoeVZhbHVlKGQpKSlcbn1cbiAgXG4gIFxuICBcbiAgXG4gIFxuICAiLCJpbXBvcnQgeyBkcm9wZG93bl9tZW51IH0gZnJvbSAnLi9kcm9wZG93bl9tZW51JztcbmltcG9ydCB7IGJhciB9IGZyb20gJy4vYmFyJztcblxuY29uc3Qgc3ZnID0gZDMuc2VsZWN0KCdzdmcnKTtcblxuY29uc3Qgd2lkdGggPSArc3ZnLmF0dHIoJ3dpZHRoJyk7XG5jb25zdCBoZWlnaHQgPSArc3ZnLmF0dHIoJ2hlaWdodCcpO1xuICAgICAgXG5cbmxldCBkYXRhO1xuXG5sZXQgeUNvbHVtbjtcbmxldCB3aW5lX3R5cGU7XG5cbmNvbnN0IG9uWUNvbHVtbkNsaWNrZWQgPSBjb2x1bW4gPT4ge1xuICB5Q29sdW1uID0gY29sdW1uO1xuICByZW5kZXIoKTtcbn07XG5cbmNvbnN0IG9uRGF0YXNldENsaWNrZWQgPSBjb2x1bW4gPT4ge1xuICB3aW5lX3R5cGUgPSBjb2x1bW47XG4gIHJlbmRlcigpO1xufTtcblxuY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuXG4gIGQzLnNlbGVjdCgnI3ktbWVudScpXG5cdC5jYWxsKGRyb3Bkb3duX21lbnUsIHtcbiAgXHRvcHRpb25zOiBbJ2ZpeGVkX2FjaWRpdHknLCd2b2xhdGlsZV9hY2lkaXR5JywnY2l0cmljX2FjaWQnLCdyZXNpZHVhbF9zdWdhcicsJ2NobG9yaWRlcycsJ2ZyZWVfc3VsZnVyX2Rpb3hpZGUnLCdwSCcsJ3N1bHBoYXRlcycsJ2FsY29ob2wnLCdxdWFsaXR5J10sXG4gICAgb25PcHRpb25DbGlja2VkOiBvbllDb2x1bW5DbGlja2VkIFxufSk7ICAgIFxuICBcbiAgZDMuc2VsZWN0KCcjZGF0YS1tZW51JylcbiAgICAuY2FsbChkcm9wZG93bl9tZW51LCB7XG4gICAgICBvcHRpb25zOiBbJ1doaXRlIFdpbmUnLCdSZWQgV2luZSddLFxuICAgICAgb25PcHRpb25DbGlja2VkOiBvbkRhdGFzZXRDbGlja2VkXG4gICAgfSk7XG5cblx0Y29uc3QgdGl0bGV5ID0gU3RyaW5nKHlDb2x1bW4pXG4gIGNvbnN0IHRpdGxlX3RleHQgPSBcIldoaXRlIFdpbmUgUXVhbGl0eSByYW5rZWQgYnkgXCIgKyB0aXRsZXlcblx0c3ZnLmNhbGwoYmFyLCB7XG5cdFx0eEF4aXNMYWJlbDogJ1F1YWxpdHknLFxuICAgIHRpdGxlOiB0aXRsZV90ZXh0LFxuXHRcdHlWYWx1ZTogZCA9PiBkW3lDb2x1bW5dLFxuICAgIHhWYWx1ZTogZCA9PiBkLnF1YWxpdHksXG5cdFx0eUF4aXNMYWJlbDogeUNvbHVtbixcbiAgICBtYXJnaW46IHsgdG9wOiA4MCwgcmlnaHQ6IDEwMCwgYm90dG9tOiAxNTAsIGxlZnQ6IDEwMCB9LFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB3aW5lX3R5cGUsXG4gICAgZGF0YVxuICB9KTtcblxufTtcbmQzLmNzdignZGF0YV93aW5lLmNzdicpLnRoZW4obG9hZGVkRGF0YSA9PiB7XG4gIGRhdGEgPSBsb2FkZWREYXRhO1xuICBkYXRhLmZvckVhY2goZCA9PiB7XG4gICAgZC5maXhlZF9hY2lkaXR5ID0gK2QuZml4ZWRfYWNpZGl0eTtcbiAgICAgIGQudm9sYXRpbGVfYWNpZGl0eSA9ICtkLnZvbGF0aWxlX2FjaWRpdHk7XG4gICAgICBkLmNpdHJpY19hY2lkID0gK2QuY2l0cmljX2FjaWQ7XG4gICAgICBkLnJlc2lkdWFsX3N1Z2FyID0gK2QucmVzaWR1YWxfc3VnYXI7XG4gICAgICBkLmNobG9yaWRlcyA9ICtkLmNobG9yaWRlcztcbiAgICAgIGQuZnJlZV9zdWxmdXJfZGlveGlkZSA9ICtkLmZyZWVfc3VsZnVyX2Rpb3hpZGU7XG4gICAgICBkLmRlbnNpdHkgPSArZC5kZW5zaXR5O1xuICAgICAgZC5wSCA9ICtkLnBIO1xuICAgICAgZC5zdWxwaGF0ZXMgPSArZC5zdWxwaGF0ZXM7XG4gICAgICBkLmFsY29ob2wgPSArZC5hbGNvaG9sO1xuICAgICAgZC5xdWFsaXR5ID0gK2QucXVhbGl0eTtcbiAgICBcdGQud2luZV90eXBlID0gZC53aW5lX3R5cGU7XG4gIH0pO1xuICB5Q29sdW1uID0gZGF0YS5jb2x1bW5zWzBdXG4gIHdpbmVfdHlwZSA9ICdXaGl0ZSBXaW5lJ1xuICByZW5kZXIoKTtcblxufSk7Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztFQUFPLE1BQU0sYUFBYSxHQUFHLENBQUMsU0FBUyxFQUFFLEtBQUssS0FBSztFQUNuRCxFQUFFLE1BQU07RUFDUixJQUFJLE9BQU87RUFDWCxJQUFJLGVBQWU7RUFDbkIsR0FBRyxHQUFHLEtBQUssQ0FBQztFQUNaO0VBQ0EsRUFBRSxJQUFJLE1BQU0sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDMUQsRUFBRSxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7RUFDMUMsS0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDO0VBQ2xCLEtBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxXQUFXO0VBQzdCLE1BQU0sZUFBZSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztFQUNsQyxJQUFJLENBQUMsQ0FBQztFQUNOO0VBQ0EsRUFBRSxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztFQUMxRCxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0VBQ2pDLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQztFQUNqQixLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUN6QixLQUFLLElB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