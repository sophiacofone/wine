(function () {
  'use strict';

  const titleText = 'White Wine Quality vs fff';
  const yAxisLabelText = 'fff';

  const svg = d3.select('svg');

  const width = +svg.attr('width');
  const height = +svg.attr('height');

  const render = data => {
    const xValue = d => d.quality;
    const yValue = d => d.alcohol;
    const margin = { top: 80, right: 40, bottom: 50, left: 100 };
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    
       // sort data
    data.sort(function(b, a) {
      return b.quality - a.quality;
      
    });
    
    const yScale = d3.scaleLinear()
    	.domain([0,d3.max(data, yValue)])
    	.range([innerHeight,0]);
    const xScale = d3.scaleBand()
    	.domain(data.map(xValue))
    	.range([0,innerWidth])
    	.padding(0.05);

    const g = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
    
  //   const yAxisTickFormat = number =>
  //     d3.format('.3s')(number)
  //       .replace('G', 'B');
    
    const xAxis = d3.axisBottom(xScale);
    
    const yAxis = d3.axisLeft(yScale);
    	// .tickFormat(yAxisTickFormat)
    
    const xAxisG = g.append('g').call(xAxis)
      .attr('transform', `translate(0,${innerHeight})`);
    
    const yAxisG = g.append('g').call(yAxis);
    
    xAxisG.select('.domain').remove();
    yAxisG.select('.domain').remove();

    yAxisG.append('text')
        .attr('class', 'axis-label')
        .attr('y', -15)
        .attr('x', 0)
        .attr('fill', 'black')
        .text(yAxisLabelText);
    
    g.append('text')
        .attr('class', 'title')
        .attr('y', -40)
    		.attr('x', -70)
        .text(titleText);
  	
    g.selectAll('rect').data(data)
    	.enter().append('rect')
    		.attr('x', d =>xScale(xValue(d)))
    		.attr('y', d =>yScale(yValue(d)))
    		.attr('width', xScale.bandwidth())
    		.attr('height', d=> innerHeight - yScale(yValue(d)));
  };

  d3.dsv(';','data.csv').then(data => {
    data.forEach(d => {
      d.fixed_acidity = +d.fixed_acidity;
        d.volatile_acidity = +d.volatile_acidity;
        d.citric_acid = +d.citric_acid;
        d.residual_sugar = +d.residual_sugar;
        d.chlorides = +d.chlorides;
        d.free_sulfur_dioxide = +d.free_sulfur_dioxide;
        d.density = +d.density;
        d.pH = +d.pH;
        d.sulphates = +d.sulphates;
        d.alcohol = +d.alcohol;
        d.quality = +d.quality;
    });
    render(data);
  });

}());

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRyb3Bkb3duX21lbnUgfSBmcm9tICcuL2Ryb3Bkb3duX21lbnUnO1xuXG5jb25zdCB0aXRsZVRleHQgPSAnV2hpdGUgV2luZSBRdWFsaXR5IHZzIGZmZic7XG5jb25zdCB5QXhpc0xhYmVsVGV4dCA9ICdmZmYnO1xuXG5jb25zdCBzdmcgPSBkMy5zZWxlY3QoJ3N2ZycpO1xuXG5jb25zdCB3aWR0aCA9ICtzdmcuYXR0cignd2lkdGgnKTtcbmNvbnN0IGhlaWdodCA9ICtzdmcuYXR0cignaGVpZ2h0Jyk7XG5cbmNvbnN0IHJlbmRlciA9IGRhdGEgPT4ge1xuICBjb25zdCB4VmFsdWUgPSBkID0+IGQucXVhbGl0eTtcbiAgY29uc3QgeVZhbHVlID0gZCA9PiBkLmFsY29ob2w7XG4gIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiA4MCwgcmlnaHQ6IDQwLCBib3R0b206IDUwLCBsZWZ0OiAxMDAgfTtcbiAgY29uc3QgaW5uZXJXaWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gIGNvbnN0IGlubmVySGVpZ2h0ID0gaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gIFxuICAgICAvLyBzb3J0IGRhdGFcbiAgZGF0YS5zb3J0KGZ1bmN0aW9uKGIsIGEpIHtcbiAgICByZXR1cm4gYi5xdWFsaXR5IC0gYS5xdWFsaXR5O1xuICAgIFxuICB9KTtcbiAgXG4gIGNvbnN0IHlTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcbiAgXHQuZG9tYWluKFswLGQzLm1heChkYXRhLCB5VmFsdWUpXSlcbiAgXHQucmFuZ2UoW2lubmVySGVpZ2h0LDBdKTtcbiAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVCYW5kKClcbiAgXHQuZG9tYWluKGRhdGEubWFwKHhWYWx1ZSkpXG4gIFx0LnJhbmdlKFswLGlubmVyV2lkdGhdKVxuICBcdC5wYWRkaW5nKDAuMDUpO1xuXG4gIGNvbnN0IGcgPSBzdmcuYXBwZW5kKCdnJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwke21hcmdpbi50b3B9KWApO1xuICBcbi8vICAgY29uc3QgeUF4aXNUaWNrRm9ybWF0ID0gbnVtYmVyID0+XG4vLyAgICAgZDMuZm9ybWF0KCcuM3MnKShudW1iZXIpXG4vLyAgICAgICAucmVwbGFjZSgnRycsICdCJyk7XG4gIFxuICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeFNjYWxlKVxuICBcbiAgY29uc3QgeUF4aXMgPSBkMy5heGlzTGVmdCh5U2NhbGUpXG4gIFx0Ly8gLnRpY2tGb3JtYXQoeUF4aXNUaWNrRm9ybWF0KVxuICBcbiAgY29uc3QgeEF4aXNHID0gZy5hcHBlbmQoJ2cnKS5jYWxsKHhBeGlzKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtpbm5lckhlaWdodH0pYCk7XG4gIFxuICBjb25zdCB5QXhpc0cgPSBnLmFwcGVuZCgnZycpLmNhbGwoeUF4aXMpXG4gIFxuICB4QXhpc0cuc2VsZWN0KCcuZG9tYWluJykucmVtb3ZlKCk7XG4gIHlBeGlzRy5zZWxlY3QoJy5kb21haW4nKS5yZW1vdmUoKTtcblxuICB5QXhpc0cuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzLWxhYmVsJylcbiAgICAgIC5hdHRyKCd5JywgLTE1KVxuICAgICAgLmF0dHIoJ3gnLCAwKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLnRleHQoeUF4aXNMYWJlbFRleHQpO1xuICBcbiAgZy5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlJylcbiAgICAgIC5hdHRyKCd5JywgLTQwKVxuICBcdFx0LmF0dHIoJ3gnLCAtNzApXG4gICAgICAudGV4dCh0aXRsZVRleHQpO1xuXHRcbiAgZy5zZWxlY3RBbGwoJ3JlY3QnKS5kYXRhKGRhdGEpXG4gIFx0LmVudGVyKCkuYXBwZW5kKCdyZWN0JylcbiAgXHRcdC5hdHRyKCd4JywgZCA9PnhTY2FsZSh4VmFsdWUoZCkpKVxuICBcdFx0LmF0dHIoJ3knLCBkID0+eVNjYWxlKHlWYWx1ZShkKSkpXG4gIFx0XHQuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpXG4gIFx0XHQuYXR0cignaGVpZ2h0JywgZD0+IGlubmVySGVpZ2h0IC0geVNjYWxlKHlWYWx1ZShkKSkpXG59O1xuXG5kMy5kc3YoJzsnLCdkYXRhLmNzdicpLnRoZW4oZGF0YSA9PiB7XG4gIGRhdGEuZm9yRWFjaChkID0+IHtcbiAgICBkLmZpeGVkX2FjaWRpdHkgPSArZC5maXhlZF9hY2lkaXR5O1xuICAgICAgZC52b2xhdGlsZV9hY2lkaXR5ID0gK2Qudm9sYXRpbGVfYWNpZGl0eTtcbiAgICAgIGQuY2l0cmljX2FjaWQgPSArZC5jaXRyaWNfYWNpZDtcbiAgICAgIGQucmVzaWR1YWxfc3VnYXIgPSArZC5yZXNpZHVhbF9zdWdhcjtcbiAgICAgIGQuY2hsb3JpZGVzID0gK2QuY2hsb3JpZGVzO1xuICAgICAgZC5mcmVlX3N1bGZ1cl9kaW94aWRlID0gK2QuZnJlZV9zdWxmdXJfZGlveGlkZTtcbiAgICAgIGQuZGVuc2l0eSA9ICtkLmRlbnNpdHk7XG4gICAgICBkLnBIID0gK2QucEg7XG4gICAgICBkLnN1bHBoYXRlcyA9ICtkLnN1bHBoYXRlcztcbiAgICAgIGQuYWxjb2hvbCA9ICtkLmFsY29ob2w7XG4gICAgICBkLnF1YWxpdHkgPSArZC5xdWFsaXR5O1xuICB9KTtcbiAgcmVuZGVyKGRhdGEpO1xufSk7Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztFQUVBLE1BQU0sU0FBUyxHQUFHLDJCQUEyQixDQUFDO0VBQzlDLE1BQU0sY0FBYyxHQUFHLEtBQUssQ0FBQztBQUM3QjtFQUNBLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDN0I7RUFDQSxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7RUFDakMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ25DO0VBQ0EsTUFBTSxNQUFNLEdBQUcsSUFBSSxJQUFJO0VBQ3ZCLEVBQUUsTUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUM7RUFDaEMsRUFBRSxNQUFNLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQztFQUNoQyxFQUFFLE1BQU0sTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0VBQy9ELEVBQUUsTUFBTSxVQUFVLEdBQUcsS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztFQUN4RCxFQUFFLE1BQU0sV0FBVyxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFDMUQ7RUFDQTtFQUNBLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7RUFDM0IsSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztFQUNqQztFQUNBLEdBQUcsQ0FBQyxDQUFDO0VBQ0w7RUFDQSxFQUFFLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQyxXQUFXLEVBQUU7RUFDakMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztFQUNwQyxJQUFJLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQzNCLEVBQUUsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDLFNBQVMsRUFBRTtFQUMvQixJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0VBQzVCLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0VBQ3pCLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xCO0VBQ0EsRUFBRSxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztFQUMzQixLQUFLLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ2xFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQSxFQUFFLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFDO0VBQ3JDO0VBQ0EsRUFBRSxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQztFQUNuQztFQUNBO0VBQ0EsRUFBRSxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDMUMsS0FBSyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsWUFBWSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3REO0VBQ0EsRUFBRSxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUM7RUFDMUM7RUFDQSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7RUFDcEMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3BDO0VBQ0EsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztFQUN2QixP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